---
import BaseLayout from '../layouts/BaseLayout.astro';
import Callout from '../components/Callout.astro';
---

<BaseLayout title="Introduction">
  <h1>Grails Backend Services Documentation</h1>

  <p class="text-xl text-[var(--text-secondary)] mb-8">
    Complete documentation for the Grails ENS marketplace backend system.
  </p>

  <Callout type="info" title="Overview">
    This documentation covers four interconnected services that power the Grails ENS marketplace:
    API, Indexer, WAL Listener, and Workers.
  </Callout>

  <h2>Services</h2>

  <div class="grid gap-6 mt-6">
    <a href="/api/overview" class="block p-6 bg-[var(--bg-secondary)] border border-[var(--border)] rounded-lg hover:border-[var(--accent)] transition-colors">
      <h3 class="text-xl font-semibold mb-2">API Service</h3>
      <p class="text-[var(--text-secondary)]">
        REST API backend with SIWE authentication, Elasticsearch search, and OpenSea integration.
      </p>
    </a>

    <a href="/indexer/overview" class="block p-6 bg-[var(--bg-secondary)] border border-[var(--border)] rounded-lg hover:border-[var(--accent)] transition-colors">
      <h3 class="text-xl font-semibold mb-2">Indexer Service</h3>
      <p class="text-[var(--text-secondary)]">
        Blockchain event monitoring for ENS registrations, transfers, and OpenSea marketplace activity.
      </p>
    </a>

    <a href="/wal-listener/overview" class="block p-6 bg-[var(--bg-secondary)] border border-[var(--border)] rounded-lg hover:border-[var(--accent)] transition-colors">
      <h3 class="text-xl font-semibold mb-2">WAL Listener Service</h3>
      <p class="text-[var(--text-secondary)]">
        PostgreSQL logical replication monitoring for real-time Elasticsearch synchronization.
      </p>
    </a>

    <a href="/workers/overview" class="block p-6 bg-[var(--bg-secondary)] border border-[var(--border)] rounded-lg hover:border-[var(--accent)] transition-colors">
      <h3 class="text-xl font-semibold mb-2">Workers Service</h3>
      <p class="text-[var(--text-secondary)]">
        Asynchronous job processing for order expiration, ENS metadata sync, and notifications.
      </p>
    </a>
  </div>

  <h2>Getting Started</h2>

  <p>
    Choose a service from the sidebar to explore its documentation, or start with the
    <a href="/overview/quick-start">Quick Start Guide</a> to set up the entire system.
  </p>

  <Callout type="warning" title="Prerequisites">
    Before running any service, ensure you have:
    <ul class="mt-2 space-y-1">
      <li>Node.js 18+</li>
      <li>PostgreSQL 14+</li>
      <li>Ethereum RPC endpoint (Alchemy/Infura)</li>
      <li>OpenSea API key (for Indexer)</li>
    </ul>
  </Callout>
</BaseLayout>
