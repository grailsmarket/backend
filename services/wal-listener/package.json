{
  "name": "@grails/wal-listener",
  "version": "1.0.0",
  "description": "PostgreSQL WAL listener for Elasticsearch CDC",
  "main": "dist/index.js",
  "scripts": {
    "build": "tsc",
    "dev": "tsx watch src/index.ts",
    "start": "node dist/index.js",
    "typecheck": "tsc --noEmit",
    "resync": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/resync-elasticsearch.js",
    "resync:fast": "npm run build && node --max-old-space-size=8192 dist/wal-listener/src/scripts/fast-resync-elasticsearch.js",
    "resync:complete": "npm run build && node --max-old-space-size=8192 dist/wal-listener/src/scripts/complete-resync-elasticsearch.js",
    "resync-out-of-sync": "npx tsx src/scripts/resync-out-of-sync.ts",
    "backfill-attributes": "npx tsx src/scripts/backfill-name-attributes.ts",
    "backfill-club-stats": "npx tsx src/scripts/backfill-club-stats.ts",
    "backfill-highest-offers": "npx tsx src/scripts/backfill-highest-offers.ts",
    "backfill-mint-events": "npm run build && node --max-old-space-size=512 --expose-gc dist/wal-listener/src/scripts/backfill-mint-events.js",
    "backfill-mint-events:dry": "npm run build && node --max-old-space-size=512 --expose-gc dist/wal-listener/src/scripts/backfill-mint-events.js --dry-run",
    "backfill-mint-events:resume": "npm run build && node --max-old-space-size=512 --expose-gc dist/wal-listener/src/scripts/backfill-mint-events.js --resume",
    "recover-placeholders": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-placeholder-subnames.js",
    "recover-placeholders:dry": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-placeholder-subnames.js --dry-run --limit 10",
    "recover-hash-placeholders": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-hash-placeholders.js",
    "recover-hash-placeholders:dry": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-hash-placeholders.js --dry-run --limit 10",
    "recover-zero-addresses": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-zero-address-owners.js",
    "recover-zero-addresses:dry": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-zero-address-owners.js --dry-run --limit 10",
    "recover-null-expiry": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-null-expiry-dates.js",
    "recover-null-expiry:dry": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-null-expiry-dates.js --dry-run --limit 10",
    "recover-registrar-owners": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-registrar-owners.js",
    "recover-registrar-owners:dry": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/recover-registrar-owners.js --dry-run --limit 10",
    "backfill-registration-dates": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/backfill-registration-dates.js",
    "backfill-registration-dates:dry": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/backfill-registration-dates.js --dry-run --limit 10",
    "fix-transfer-timestamps": "npm run build && node --max-old-space-size=4096 --expose-gc dist/wal-listener/src/scripts/fix-transfer-event-timestamps.js",
    "fix-token-ids": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/fix-token-ids.js",
    "fix-token-ids:dry": "npm run build && node --max-old-space-size=4096 dist/wal-listener/src/scripts/fix-token-ids.js --dry-run",
    "backfill-cancelled-prices": "npm run build && node dist/wal-listener/src/scripts/backfill-cancelled-event-prices.js",
    "backfill-cancelled-prices:dry": "npm run build && node dist/wal-listener/src/scripts/backfill-cancelled-event-prices.js --dry-run",
    "import-csv": "npx tsx src/scripts/import-ens-names-csv.ts",
    "import-csv:build": "npm run build && node --max-old-space-size=8192 dist/wal-listener/src/scripts/import-ens-names-csv.js"
  },
  "dependencies": {
    "pg-boss": "^9.0.3",
    "pg-logical-replication": "^2.1.0",
    "pino": "^8.17.2",
    "pino-pretty": "^10.3.1"
  }
}
